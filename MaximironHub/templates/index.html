<!doctype html>
<html lang="ru" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MAXIMIRONHUB ‚Äî Neon Gallery</title>
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<div class="neon-rain"></div>
<div class="shader-noise"></div>
  <canvas id="particleCanvas" class="particle-canvas"></canvas>
  <header class="site-header">
    <div class="brand"><h1 class="neon-logo">MAXIMIRONHUB</h1>
      
      
    </div>
  </header>

  <main class="container">
    <section class="upload-panel neon-card">
          {% if request.args.get("error") %}
            <div class="error">–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ.</div>
          {% endif %}
      <form id="uploadForm" action="/upload" method="post" enctype="multipart/form-data">
        <div class="row">
          <label class="file-label">
            <input type="file" name="file" id="fileInput" required>
            <span id="fileLabelText">–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª</span>
          </label>
          <input type="text" name="custom_name" id="customName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" required class="title-input">
          <button class="btn primary" type="submit">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
        </div>
      </form>
      <p class="hint">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è: jpg, png, mp4, webm, mov, gif. –ú–∞–∫—Å–∏–º—É–º 600MB.</p>
    </section>

    <section class="gallery" id="gallery">
      {% if files|length == 0 %}
        <div class="empty">–ì–∞–ª–µ—Ä–µ—è –ø—É—Å—Ç–∞ ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –∏–ª–∏ –≤–∏–¥–µ–æ</div>
      {% else %}
        {% for item in files %}
          <article class="card tilt" data-fname="{{item.fn}}">
            <div class="media-wrap">
              {% if item.thumb %}
                <img src="/{{item.thumb}}" alt="{{item.display}}">
              {% else %}
                {% if item.fn.endswith('.mp4') or item.fn.endswith('.mov') or item.fn.endswith('.webm') %}
                  <div class="video-thumb">üé¨</div>
                {% else %}
                  <img src="/uploads/{{item.fn}}" alt="{{item.display}}">
                {% endif %}
              {% endif %}
            </div>
            <div class="meta">
              <div class="fname">{{item.display}}</div>
              <div class="actions">
                <button class="btn sm view" data-file="{{item.fn}}">–û—Ç–∫—Ä—ã—Ç—å</button>
                <a class="btn sm ghost" href="/uploads/{{item.fn}}" target="_blank" download>–°–∫–∞—á–∞—Ç—å</a>
              </div>
            </div>
          </article>
        {% endfor %}
      {% endif %}
    </section>
  </main>

  <!-- Modal -->
  <div id="modal" class="modal">
    <div class="modal-card neon-border">
      <button id="closeModal" class="close">‚úï</button>
      <div id="modalContent" class="modal-content"></div>
    </div>
  </div>

  <script src="/static/js/particles.js"></script>
<script src="/static/js/note.js"></script>

<div class="controls-top" style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
  <div class="neon-title"></div>
</div>
<!-- Custom media player -->
<div class="media-player" id="mediaPlayer" role="dialog" aria-hidden="true">
  <button class="close-player" id="closePlayer" aria-label="Close player">‚úï</button>
  <div id="mediaContainer">
    <video id="player" controls playsinline></video>
  </div>
    </div>
    </div></div>
</body>
</html>
